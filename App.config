<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<configSections>
		<section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
	</configSections>
	<startup>
		<supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8"/>
	</startup>

	<appSettings>
		<!-- Azure AD Application Configuration -->
		<add key="ClientId" value="b9090264-48df-4e70-a9e5-86c374090e1c"/>
		<add key="TenantId" value="b20a8f4d-0d6a-4f2e-83a2-181c968f8882"/>
		<add key="ClientSecret" value="wby8Q~ZRw-cWUl_C2T45Rf9OqvafCF1IXFGtdck8"/>

		<!-- Target email account to monitor -->
		<add key="TargetEmail" value="schaeffler.dev@amalitech.com"/>

		<!-- Processing Configuration -->
		<add key="HoursToFetch" value="24"/>
		<add key="IncludeJunkEmails" value="false"/>

		<!-- File Paths -->
		<add key="DownloadsDirectory" value="./downloads"/>
		<add key="LogsDirectory" value="./logs"/>
		<add key="TrackingFile" value="./processed_emails.json"/>

		<!-- Retry Configuration -->
		<add key="RetryAttempts" value="3"/>
		<add key="RetryDelayMs" value="2000"/>
	</appSettings>

	<log4net>
		<root>
			<level value="INFO"/>
			<appender-ref ref="ConsoleAppender"/>
			<appender-ref ref="FileAppender"/>
		</root>

		<appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="[%date{HH:mm:ss}] [%level] %message%newline"/>
			</layout>
		</appender>

		<appender name="FileAppender" type="log4net.Appender.RollingFileAppender">
			<file value="logs/email-service.log"/>
			<appendToFile value="true"/>
			<rollingStyle value="Date"/>
			<datePattern value="yyyy-MM-dd"/>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="[%date{yyyy-MM-dd HH:mm:ss}] [%level] %message%newline"/>
			</layout>
		</appender>
	</log4net>
</configuration>
